#!/usr/bin/env cram
# vim: set syntax=cram :

  $ . $TESTDIR/cram_strap.sh

Create a test datafile.

  $ PYTHONPATH=$TESTDIR/../  python $TESTDIR/mktestarray.py
  $ ls
  data.dat
  meta.json

Basic compression:

  $ ls
  data.dat
  meta.json
  $ blpk compress data.dat
  $ ls
  data.dat
  data.dat.blp
  meta.json
  $ rm data.dat.blp
  $ ls
  data.dat
  meta.json
  $ blpk c data.dat
  $ ls
  data.dat
  data.dat.blp
  meta.json

Compression to a file:

  $ blpk compress data.dat packed.blp
  $ ls
  data.dat
  data.dat.blp
  meta.json
  packed.blp
  $ rm packed.blp

Basic decompression:

  $ rm data.dat
  $ ls
  data.dat.blp
  meta.json
  $ blpk decompress data.dat.blp
  $ ls
  data.dat
  data.dat.blp
  meta.json
  $ rm data.dat
  $ blpk d data.dat.blp
  $ ls
  data.dat
  data.dat.blp
  meta.json

Decompression to a file:

  $ blpk decompress data.dat.blp data.dat.dcmp
  $ ls
  data.dat
  data.dat.blp
  data.dat.dcmp
  meta.json
  $ rm data.dat.dcmp
  $ rm data.dat.blp

Check that directory is clean.

  $ ls
  data.dat
  meta.json
